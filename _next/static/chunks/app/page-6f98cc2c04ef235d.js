(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{3594:()=>{},11639:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>en});var n=a(95155),r=a(12115),s=a(4520),o=a(64935),i=a(84045),l=a(99941),d=a(83101),c=a(2821),u=a(75889);function m(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,u.QP)((0,c.$)(t))}let f=(0,d.F)("inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none ring-offset-background",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"underline-offset-4 hover:underline text-primary"},size:{default:"h-10 py-2 px-4",sm:"h-9 px-3 rounded-md",lg:"h-11 px-8 rounded-md",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),g=r.forwardRef((e,t)=>{let{className:a,variant:r,size:s,...o}=e;return(0,n.jsx)("button",{className:m(f({variant:r,size:s,className:a})),ref:t,...o})});g.displayName="Button";class x{shouldLog(e){return!this.isTest&&(!!this.isDevelopment||"warn"===e||"error"===e)}debug(e){for(var t=arguments.length,a=Array(t>1?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];this.shouldLog("debug")&&console.log("[DEBUG] ".concat(e),...a)}info(e){for(var t=arguments.length,a=Array(t>1?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];this.shouldLog("info")&&console.log("[INFO] ".concat(e),...a)}warn(e){for(var t=arguments.length,a=Array(t>1?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];this.shouldLog("warn")&&console.warn("[WARN] ".concat(e),...a)}error(e){for(var t=arguments.length,a=Array(t>1?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];this.shouldLog("error")&&console.error("[ERROR] ".concat(e),...a)}transaction(e){for(var t=arguments.length,a=Array(t>1?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];this.isDevelopment&&console.log("[TX] ".concat(e),...a)}balance(e){for(var t=arguments.length,a=Array(t>1?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];this.isDevelopment&&console.log("[BALANCE] ".concat(e),...a)}constructor(){this.isDevelopment=!1,this.isTest=!1}}let b=new x;var h=a(46830);let y=h.WC.SUPPORTED_CHAINS;function v(){let[e,t]=(0,r.useState)(!1),[a,d]=(0,r.useState)(!1),[c,u]=(0,r.useState)(""),[f,x]=(0,r.useState)(!1),{address:v,isConnected:p}=(0,s.F)(),{connect:w,connectors:N,isPending:S,error:C}=(0,o.e)(),{disconnect:E}=(0,i.u)(),k=(0,l.i)();(0,r.useEffect)(()=>{x(!0)},[]);let j=p&&!y.includes(k),I=N.find(e=>e.name&&e.name.toLowerCase().includes("metamask")),T=N.filter(e=>!e.name||!e.name.toLowerCase().includes("metamask")),O=I?[I,...T]:N,A=async e=>{try{u(""),await w({connector:e}),t(!1)}catch(e){b.error("Connection failed:",e),u(e instanceof Error?e.message:"Connection failed")}};return f?p&&v?(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsxs)(g,{onClick:()=>t(!e),variant:"outline",className:"flex items-center gap-2 bg-white hover:bg-gray-50 dark:bg-[#34495e] dark:hover:bg-[#2e3b5e] dark:border-[#34495e] dark:text-[#e0e0e0] leading-none",children:[(0,n.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),(0,n.jsxs)("span",{className:"font-mono text-sm",children:[v.slice(0,6),"...",v.slice(-4)]}),(0,n.jsx)("svg",{className:"w-4 h-4 transition-transform self-center ".concat(e?"rotate-180":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),e&&(0,n.jsxs)("div",{className:"absolute right-0 mt-2 w-64 bg-white dark:bg-[#16213e] rounded-xl shadow-lg border dark:border-[#34495e] z-50",children:[(0,n.jsx)("div",{className:"absolute -top-2 right-6 w-3 h-3 bg-white dark:bg-[#16213e] border border-gray-200 dark:border-[#34495e] rotate-45"}),(0,n.jsx)("div",{className:"p-4",children:(0,n.jsxs)("div",{className:"space-y-3",children:[(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-2",children:(0,n.jsx)("svg",{className:"w-4 h-4 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),(0,n.jsx)("p",{className:"text-sm font-medium text-gray-900 dark:text-[#e0e0e0]",children:"Wallet Connected"}),(0,n.jsxs)("div",{className:"flex items-center gap-2 justify-center mt-1",children:[(0,n.jsx)("p",{className:"text-xs text-gray-500 dark:text-[#a0a0a0] font-mono bg-gray-50 dark:bg-[#34495e] px-2 py-1 rounded max-w-[200px] truncate",children:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:8;if(!e)return"";let n=t+a;if(e.length<=n+3)return e;let r=e.slice(0,t),s=e.slice(-a);return"".concat(r,"...").concat(s)}(v,10,8)}),(0,n.jsx)("button",{"aria-label":"Copy address",onClick:async()=>{try{await navigator.clipboard.writeText(v),d(!0),setTimeout(()=>d(!1),1200)}catch(e){b.error("Copy failed",e)}},className:m("p-1 rounded border text-xs","hover:bg-gray-100 dark:hover:bg-[#2e3b5e] dark:border-[#34495e]"),children:a?"Copied":"Copy"})]})]}),(0,n.jsxs)("div",{className:"p-2 border-t border-gray-200 dark:border-[#34495e]",children:[(0,n.jsxs)("div",{className:"text-sm font-medium text-gray-700 dark:text-[#e0e0e0] text-center",children:["Network: ",(0,h.hL)(k)]}),j&&(0,n.jsx)("div",{className:"mt-2 p-2 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg",children:(0,n.jsx)("p",{className:"text-xs text-yellow-800 dark:text-yellow-200",children:"Unsupported network. Please switch to a supported network in your wallet."})})]}),(0,n.jsx)(g,{onClick:()=>{E(),t(!1)},variant:"outline",size:"sm",className:"w-full",children:"Disconnect"})]})})]}),e&&(0,n.jsx)("div",{className:"fixed inset-0 z-40",onClick:()=>t(!1)})]}):(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsxs)(g,{onClick:()=>t(!e),variant:"default",className:"flex items-center gap-2",children:[(0,n.jsx)("span",{children:"Connect Wallet"}),(0,n.jsx)("svg",{className:"w-4 h-4 transition-transform ".concat(e?"rotate-180":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),e&&(0,n.jsxs)("div",{className:"absolute right-0 mt-2 w-64 bg-white dark:bg-[#16213e] rounded-xl shadow-lg border dark:border-[#34495e] z-50",children:[(0,n.jsx)("div",{className:"absolute -top-2 right-6 w-3 h-3 bg-white dark:bg-[#16213e] border border-gray-200 dark:border-[#34495e] rotate-45"}),(0,n.jsx)("div",{className:"p-4",children:(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-2",children:(0,n.jsx)("svg",{className:"w-4 h-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v2a2 2 0 002 2z"})})}),(0,n.jsx)("h3",{className:"text-sm font-semibold text-gray-900 dark:text-[#e0e0e0]",children:"Connect Your Wallet"}),(0,n.jsx)("p",{className:"text-xs text-gray-600 dark:text-[#a0a0a0] mt-1",children:"Choose your preferred wallet"})]}),(0,n.jsx)("div",{className:"space-y-2",children:O.map((e,t)=>(0,n.jsx)(g,{onClick:()=>A(e),disabled:S,variant:0===t?"default":"outline",size:"sm",className:"w-full justify-start text-sm",children:S?(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)("div",{className:"w-3 h-3 border-2 border-current border-t-transparent rounded-full animate-spin"}),(0,n.jsx)("span",{children:"Connecting..."})]}):(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)("span",{children:e.name}),0===t&&(0,n.jsx)("span",{className:"text-xs bg-blue-100 text-blue-700 px-1.5 py-0.5 rounded-full",children:"Default"})]})},e.uid))}),(c||C)&&(0,n.jsx)("div",{className:"text-xs text-red-600 bg-red-50 p-2 rounded border border-red-200",children:c||(null==C?void 0:C.message)||"Connection failed"}),(0,n.jsxs)("div",{className:"text-xs text-gray-500 dark:text-[#a0a0a0] text-center space-y-1 pt-2 border-t dark:border-[#34495e]",children:[(0,n.jsx)("p",{children:"Supported Networks:"}),(0,n.jsx)("p",{children:"Polygon • Amoy • Localhost"})]})]})})]}),e&&(0,n.jsx)("div",{className:"fixed inset-0 z-40",onClick:()=>t(!1)})]}):(0,n.jsxs)(g,{variant:"outline",className:"flex items-center gap-2 bg-white hover:bg-gray-50",children:[(0,n.jsx)("div",{className:"w-2 h-2 bg-gray-400 rounded-full"}),(0,n.jsx)("span",{className:"font-mono text-sm",children:"Loading..."})]})}var p=a(44457),w=function(e){return e.Crypto="crypto",e.Political="political",e.Weather="weather",e.Sports="sports",e.Economics="economics",e.Technology="technology",e.Other="other",e}({}),N=function(e){return e.Open="open",e.Resolved="resolved",e.Expired="expired",e.Paused="paused",e}({});let S=[{slug:"btc-above-100k-till-2025-end",conditionId:"0xa76a7ecac374e7e37f9dd7eacda947793f23d2886ffe0dc28fcc081a7f61423c",collateralToken:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174",yesPositionId:"38880531420851293294206408195662191626124315938743706007994446557347938404169",noPositionId:"8902773313329801867635874809325551791076524253457589174917607919810586320674",yieldStrategy:"0x794a61358D6845594F94dc1DB02A252b5b4814aD",feeBps:0,feeCollector:"0x0000000000000000000000000000000000000000",ymVaultAddress:"0xac10F0c144D987c5Ef9d30eceF1330323d8e5C47",question:"Will Bitcoin dip below $100k before 2026?",category:w.Crypto,status:N.Open,endTime:new Date("2025-12-31T23:59:59.999Z").getTime()/1e3,createdAt:new Date("2025-07-14T21:02:13.199135Z").getTime()/1e3,usdcBalance:0,clob:{tokenIdYes:"38880531420851293294206408195662191626124315938743706007994446557347938404169",tokenIdNo:"8902773313329801867635874809325551791076524253457589174917607919810586320674",tickSize:"0.01",negRisk:!1},expectedApy:5},{slug:"ethereum-all-time-high-by-september-30",conditionId:"0x20d4f65ffc90fdea0332de4737411388e89d5fd37572d124b42f64427424d01e",collateralToken:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174",yesPositionId:"71287908215328385101243686516545514858979037224060325310874110368820268322602",noPositionId:"73577829751434584490325969575598204407858161556711771005899527705770966560534",yieldStrategy:"0x794a61358D6845594F94dc1DB02A252b5b4814aD",feeBps:0,feeCollector:"0x0000000000000000000000000000000000000000",ymVaultAddress:"0xF588FA3154ACe84DBbccAaFa1c9aEf8E48F09389",question:"Ethereum all time high by September 30?",category:w.Crypto,status:N.Open,endTime:new Date("2025-10-01T04:00:00Z").getTime()/1e3,createdAt:new Date("2025-09-12T18:43:29.341463Z").getTime()/1e3,usdcBalance:0,clob:{tokenIdYes:"71287908215328385101243686516545514858979037224060325310874110368820268322602",tokenIdNo:"73577829751434584490325969575598204407858161556711771005899527705770966560534",tickSize:"0.01",negRisk:!1},expectedApy:5},{slug:"dogecoin-all-time-high-before-2026",conditionId:"0x94f3b700e10d974d9b571b6c98e6fb658ce69cbcfcf57f8d54ff800d3a2a0f19",collateralToken:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174",yesPositionId:"15039659828541293785211004728324821300190016086130262041626710325455209031990",noPositionId:"81204160537787845181699193749235809600864273503816425834349855505215440863165",yieldStrategy:"0x794a61358D6845594F94dc1DB02A252b5b4814aD",feeBps:0,feeCollector:"0x0000000000000000000000000000000000000000",ymVaultAddress:"0xadF5Fb89022d54DBf2099d831eb13cF267547529",question:"Dogecoin all time high before 2026?",category:w.Crypto,status:N.Open,endTime:new Date("2025-12-31T12:00:00Z").getTime()/1e3,createdAt:new Date("2025-03-13T15:34:35.048725Z").getTime()/1e3,usdcBalance:0,clob:{tokenIdYes:"15039659828541293785211004728324821300190016086130262041626710325455209031990",tokenIdNo:"81204160537787845181699193749235809600864273503816425834349855505215440863165",tickSize:"0.001",negRisk:!1},expectedApy:5},{slug:"will-trump-pardon-changpeng-zhao-by-september-30",conditionId:"0x87d40b8131f2720d90235d8fa8e94b3acba8671b5bf94f6a48a3366684220bda",collateralToken:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174",yesPositionId:"64198885426011547532599716642543176190216105584458400729471673552804291327648",noPositionId:"106791290077455579039045683723549617186440013815866034029690507361228666394818",yieldStrategy:"0x794a61358D6845594F94dc1DB02A252b5b4814aD",feeBps:0,feeCollector:"0x0000000000000000000000000000000000000000",ymVaultAddress:"0x80CCBF571F5b81439648dd90a80B845ac3E4B1c1",question:"Will Trump pardon Changpeng Zhao by September 30?",category:w.Political,status:N.Open,endTime:new Date("2025-09-30T00:00:00Z").getTime()/1e3,createdAt:new Date("2025-09-02T00:56:13.487616Z").getTime()/1e3,usdcBalance:0,clob:{tokenIdYes:"64198885426011547532599716642543176190216105584458400729471673552804291327648",tokenIdNo:"106791290077455579039045683723549617186440013815866034029690507361228666394818",tickSize:"0.01",negRisk:!1},expectedApy:5},{slug:"hyperliquid-daily-fees-above-8m-in-2025",conditionId:"0x8eff77c559ceb1141d32741d418b923b613b84d5a6e701d22466bb374b20156a",collateralToken:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174",yesPositionId:"97257759985013402617661559388768149128799929108374480474885228293016665796689",noPositionId:"88747915775193520968087293930277588686308934898905310163489992909007647305232",yieldStrategy:"0x794a61358D6845594F94dc1DB02A252b5b4814aD",feeBps:0,feeCollector:"0x0000000000000000000000000000000000000000",ymVaultAddress:"0x8ffd58163cFB4a4CFABE02dceb2F8f320F257f04",question:"Hyperliquid daily fees above $8M in 2025?",category:w.Crypto,status:N.Open,endTime:new Date("2025-12-31T00:00:00Z").getTime()/1e3,createdAt:new Date("2025-07-15T16:24:41.284961Z").getTime()/1e3,usdcBalance:0,clob:{tokenIdYes:"97257759985013402617661559388768149128799929108374480474885228293016665796689",tokenIdNo:"88747915775193520968087293930277588686308934898905310163489992909007647305232",tickSize:"0.01",negRisk:!1},expectedApy:5}],C={};class E{static async getSafesForOwner(e,t){let a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n="".concat(e.toLowerCase(),"-").concat(t),r=Date.now();if(!a&&C[n]){let e=C[n];if(r-e.timestamp<3e5)return e.safes}try{if(137!==t&&1337!==t)return[];let a=await fetch("https://api.allorigins.win/raw?url=".concat(encodeURIComponent("https://safe-transaction-polygon.safe.global/api/v1/owners/".concat(e,"/safes/"))),{cache:"no-store"});if(!a.ok)return[];let s=await a.json(),o=Array.isArray(null==s?void 0:s.safes)?s.safes:[];return C[n]={safes:o,timestamp:r},o}catch(e){return console.warn("Failed to fetch Safe addresses:",e),[]}}static clearCache(e){e?Object.keys(C).filter(t=>t.startsWith(e.toLowerCase())).forEach(e=>delete C[e]):Object.keys(C).forEach(e=>delete C[e])}static getCacheStatus(){return{totalCached:Object.keys(C).length,cacheKeys:Object.keys(C)}}}var k=a(56369),j=a(30598),I=a(70511);let T=(0,I.U)(["function conditionId() view returns (bytes32)","function yesPositionId() view returns (uint256)","function noPositionId() view returns (uint256)","function totalYesDeposits() view returns (uint256)","function totalNoDeposits() view returns (uint256)","function totalMatched() view returns (uint256)","function totalYielding() view returns (uint256)","function isResolved() view returns (bool)","function yesWon() view returns (bool)","function finalPayoutRatio() view returns (uint256)","function getYesYBalance(address user) view returns (uint256)","function getNoYBalance(address user) view returns (uint256)","function yesYTokens(address user) view returns (uint256)","function noYTokens(address user) view returns (uint256)","function getYieldStatus() view returns (uint256 totalATokens, uint256 totalCollateral, uint256 accruedYield)","function estimateWithdrawal(address user) view returns (uint256)","function withdrawYesTokens(uint256 amount)","function withdrawNoTokens(uint256 amount)","function withdraw()","function withdraw(address to)","function resolveMarket()","event YesTokenDeposited(address indexed user, uint256 amount, uint256 yesYMinted)","event NoTokenDeposited(address indexed user, uint256 amount, uint256 noYMinted)","event YesTokenWithdrawn(address indexed user, uint256 amount)","event NoTokenWithdrawn(address indexed user, uint256 amount)","event PositionsMatched(uint256 amount, uint256 usdcGenerated)","event YieldDeposited(uint256 amount, uint256 aTokensReceived)","event MarketResolved(bool yesWon, uint256 payoutRatio)","event Withdrawal(address indexed user, uint256 yesYBurned, uint256 noYBurned, uint256 usdcReceived)"]),O=(0,I.U)(["function balanceOf(address account, uint256 id) view returns (uint256)","function balanceOfBatch(address[] accounts, uint256[] ids) view returns (uint256[])","function setApprovalForAll(address operator, bool approved)","function isApprovedForAll(address account, address operator) view returns (bool)","function safeTransferFrom(address from, address to, uint256 id, uint256 amount, bytes data)","function splitPosition(address collateralToken, bytes32 parentCollectionId, bytes32 conditionId, uint256[] partition, uint256 amount)","function mergePositions(address collateralToken, bytes32 parentCollectionId, bytes32 conditionId, uint256[] partition, uint256 amount)","function redeemPositions(address collateralToken, bytes32 parentCollectionId, bytes32 conditionId, uint256[] indexSets)","function getPositionId(address collateralToken, bytes32 collectionId, bytes32 conditionId, uint256 outcomeIndex) view returns (uint256)","function conditionExists(bytes32 conditionId) view returns (bool)","function prepareCondition(address oracle, bytes32 questionId, uint256 outcomeSlotCount)","function payoutDenominator(bytes32 conditionId) external view returns (uint)","function payoutNumerators(bytes32 conditionId, uint256 index) external view returns (uint)","function getOutcomeSlotCount(bytes32 conditionId) external view returns (uint)","event ConditionPreparation(bytes32 indexed conditionId, address indexed oracle, bytes32 indexed questionId, uint256 outcomeSlotCount)","event PositionSplit(address indexed stakeholder, address collateralToken, bytes32 indexed parentCollectionId, bytes32 indexed conditionId, uint256[] partition, uint256 amount)","event PositionsMerge(address indexed stakeholder, address collateralToken, bytes32 indexed parentCollectionId, bytes32 indexed conditionId, uint256[] partition, uint256 amount)","event PayoutRedemption(address indexed redeemer, address indexed collateralToken, bytes32 indexed parentCollectionId, bytes32 conditionId, uint256[] indexSets, uint256 payout)","event ConditionResolution( bytes32 indexed conditionId, address indexed oracle, bytes32 indexed questionId, uint outcomeSlotCount, uint[] payoutNumerators)"]);(0,I.U)(["function name() view returns (string)","function symbol() view returns (string)","function decimals() view returns (uint8)","function totalSupply() view returns (uint256)","function balanceOf(address account) view returns (uint256)","function transfer(address to, uint256 amount) returns (bool)","function allowance(address owner, address spender) view returns (uint256)","function approve(address spender, uint256 amount) returns (bool)","function transferFrom(address from, address to, uint256 amount) returns (bool)","event Transfer(address indexed from, address indexed to, uint256 value)","event Approval(address indexed owner, address indexed spender, uint256 value)"]);let A=(0,I.U)(["function getThreshold() view returns (uint256)","function getOwners() view returns (address[])","function execTransaction(address to, uint256 value, bytes data, uint8 operation, uint256 safeTxGas, uint256 baseGas, uint256 gasPrice, address gasToken, address refundReceiver, bytes signatures) returns (bool success)"]),_=(0,I.U)(["event OrderFilled(bytes32 indexed orderHash, address indexed maker, address indexed taker, uint256 makerAssetId, uint256 takerAssetId, uint256 makerAmountFilled, uint256 takerAmountFilled, uint256 fee)","event OrdersMatched(bytes32 indexed takerOrderHash, address indexed takerOrderMaker, uint256 makerAssetId, uint256 takerAssetId, uint256 makerAmountFilled, uint256 takerAmountFilled)"]);function D(e){let[t,a]=(0,r.useState)({yesOdds:1,noOdds:1,yesPrice:.5,noPrice:.5}),n=S.find(t=>{var a,n;return(null==(n=t.conditionId)||null==(a=n.toLowerCase)?void 0:a.call(n))===(e||"").toLowerCase()}),s=(null==n?void 0:n.ymVaultAddress)||"0x0000000000000000000000000000000000000000",{data:o,error:i,isLoading:l}=(0,k.Q)({address:s,abi:T,functionName:"totalYesDeposits",query:{enabled:!!s}}),{data:d,error:c,isLoading:u}=(0,k.Q)({address:s,abi:T,functionName:"totalNoDeposits",query:{enabled:!!s}}),m=l||u,f=(null==i?void 0:i.message)||(null==c?void 0:c.message),g=t.yesOdds,x=t.noOdds,b=t.yesPrice,h=t.noPrice;if(o&&d&&!m){let e=parseFloat((0,j.J)(o,6)),t=parseFloat((0,j.J)(d,6)),a=e+t;a>0&&(b=t/a,h=e/a,g=b>0?1/b:1,x=h>0?1/h:1)}else 1===t.yesOdds&&1===t.noOdds&&(h=.4,g=1/(b=.6),x=1/h);return(0,r.useEffect)(()=>{m||1===g&&1===x||a({yesOdds:Math.round(100*g)/100,noOdds:Math.round(100*x)/100,yesPrice:Math.round(100*b)/100,noPrice:Math.round(100*h)/100})},[m,g,x,b,h]),{yesOdds:Math.round(100*g)/100,noOdds:Math.round(100*x)/100,yesPrice:Math.round(100*b)/100,noPrice:Math.round(100*h)/100,loading:m,error:f}}(0,I.U)(["function name() view returns (string)","function symbol() view returns (string)","function decimals() view returns (uint8)","function totalSupply() view returns (uint256)","function balanceOf(address account) view returns (uint256)","function transfer(address to, uint256 amount) returns (bool)","function allowance(address owner, address spender) view returns (uint256)","function approve(address spender, uint256 amount) returns (bool)","function transferFrom(address from, address to, uint256 amount) returns (bool)","function faucet()","function mint(address to, uint256 amount)","event Transfer(address indexed from, address indexed to, uint256 value)","event Approval(address indexed owner, address indexed spender, uint256 value)"]);let B=new Map;async function P(e){try{let t,a;if(e.slug){if(t="https://api.allorigins.win/raw?url=".concat(encodeURIComponent("https://gamma-api.polymarket.com/markets/slug/".concat(e.slug))),!(a=await fetch(t,{cache:"no-store"})).ok)throw Error("Polymarket API error: ".concat(a.status));let n=await a.json(),{yes:r,no:s}=L(n);return{volume:"number"==typeof n.volumeNum?n.volumeNum:void 0,yesPrice:r,noPrice:s}}{let t="https://api.allorigins.win/raw?url=".concat(encodeURIComponent("https://gamma-api.polymarket.com/markets?limit=1000&active=true&closed=false"));if(!(a=await fetch(t,{cache:"no-store"})).ok)throw Error("Polymarket API error: ".concat(a.status));let n=(await a.json()).find(t=>(t.conditionId||"").toLowerCase()===e.conditionIdLower),{yes:r,no:s}=L(n);return{volume:"number"==typeof(null==n?void 0:n.volumeNum)?n.volumeNum:void 0,yesPrice:r,noPrice:s}}}catch(e){throw console.error("Failed to fetch Polymarket data:",e),e}}function L(e){if(!e)return{};try{let t=JSON.parse(e.outcomePrices||"[]");if(Array.isArray(t)&&t.length>=2){let e=Number(t[0]),a=Number(t[1]);if(!Number.isNaN(e)&&!Number.isNaN(a))return{yes:e,no:a}}}catch(e){}return{}}function Y(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6e4,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],[n,s]=(0,r.useState)({volume:void 0,yesPrice:void 0,noPrice:void 0,loading:!!e}),o=(e||"").toLowerCase(),i=(0,r.useRef)(null),l=(0,r.useRef)(!1),d=(0,r.useMemo)(()=>{if(!o)return;let e=B.get(o);return null==e?void 0:e.data},[o]);return(0,r.useEffect)(()=>{if(!o)return void s(e=>({...e,loading:!1}));let e=!1;async function n(){try{l.current||s(e=>({...e,loading:!0}));let t=await P(a?{slug:o}:{conditionIdLower:o}),n={volume:null==t?void 0:t.volume,yesPrice:null==t?void 0:t.yesPrice,noPrice:null==t?void 0:t.noPrice,loading:!1,updatedAt:Date.now()};B.set(o,{data:n,ts:Date.now()}),e||s(e=>({...e,...n})),l.current=!0}catch(t){e||s(e=>({...e,loading:!1,error:t instanceof Error?t.message:"Unknown error"}))}}return d&&(l.current=!0,s({...d,loading:!1})),n(),i.current&&window.clearInterval(i.current),i.current=window.setInterval(n,t),()=>{e=!0,i.current&&window.clearInterval(i.current)}},[o,t,d,a]),n}var F=a(32542);function M(e){let[t,a]=(0,r.useState)(0),n=(0,r.useMemo)(()=>{if(e)return S.find(t=>{var a,n;return(null==(n=t.conditionId)||null==(a=n.toLowerCase)?void 0:a.call(n))===e.toLowerCase()})},[S,e]),s=null==n?void 0:n.ymVaultAddress,o="0x4D97DCd97eC945f40cF65F87097ACe5EA0476045",{data:i,refetch:l}=(0,k.Q)({address:o,abi:O,functionName:"payoutDenominator",args:[e],query:{enabled:!!o&&!!e,refetchInterval:!1}}),{data:d}=(0,k.Q)({address:o,abi:O,functionName:"payoutNumerators",args:[e,BigInt(0)],query:{enabled:!!o&&!!e&&!!i&&i>0,refetchInterval:!1}}),c=void 0!==i&&i>0,u=c&&void 0!==d?d>0:void 0,{data:m}=(0,k.Q)({address:s,abi:T,functionName:"finalPayoutRatio",query:{enabled:!!s&&c}});return(0,F.x)({address:o,abi:O,eventName:"ConditionResolution",args:{conditionId:e},enabled:!!o&&!!e,onLogs:async t=>{if(!e)return;console.log("ConditionResolution event detected:",t);let n=t[0];if(null==n?void 0:n.args){let{payoutNumerators:e}=n.args;console.log("Payout numerators from event:",e),e&&2===e.length&&console.log("Event analysis: YES wins:",e[0]>0n,"NO wins:",e[1]>0n)}try{await l(),a(e=>e+1),console.log("Condition resolution state refreshed after ConditionResolution event")}catch(e){console.error("Failed to refresh condition resolution state:",e)}}}),(0,r.useEffect)(()=>{o&&e&&(async()=>{try{await l(),a(e=>e+1),console.log("[VaultResolution] Initial state check completed for:",e)}catch(e){console.error("[VaultResolution] Failed to check initial state:",e)}})()},[o,e,l]),(0,r.useEffect)(()=>{s&&console.log("[VaultResolution]",{conditionId:e,vaultAddress:s,refreshTrigger:t,payoutDenominator:null==i?void 0:i.toString(),payoutNumerators:null==d?void 0:d.toString(),isResolved:!!c,yesWon:u,finalPayoutRatio:null==m?void 0:m.toString()})},[e,s,t,i,d,c,u,m]),{isResolved:!!c,yesWon:u,finalPayoutRatio:m,vaultAddress:s,loading:!s}}var U=a(2538),R=a(52938),W=a(1906),K=a(20023),q=a(45796),V=a(37372),X=a(95251);async function z(){if(!window.ethereum)throw Error("No wallet available. Please install or unlock a web3 wallet.");let e=new q.j(window.ethereum,"any");return await e.send("eth_requestAccounts",[]),e.getSigner()}async function H(e){var t,a,n;let{host:r="https://clob.polymarket.com",chainId:s=137,funder:o,tokenId:i,price:l,size:d,side:c,tickSize:u,negRisk:m=!1}=e,f=h.I_.MOCK_ENABLED,g=h.I_.MOCK_BROWSER_EVENT,x=(null==(a=window)||null==(t=a.ethereum)?void 0:t.chainId)==="0x539";if(f||x||137!==s){let e,t=await z(),a={type:"MockCLOBOrder",tokenId:i,price:l,size:d,side:c,tickSize:u,negRisk:m,account:await t.getAddress(),ts:Date.now()},r=await (null==(n=t._signTypedData)?void 0:n.call(t,{},{},a).catch(async()=>{var e;return await (null==(e=t.signMessage)?void 0:e.call(t,JSON.stringify(a)))}));try{e=V.S(X.YW(JSON.stringify(a)))}catch(e){}return g&&setTimeout(()=>{try{let t=new CustomEvent("pm:OrderFill",{detail:{tokenId:i,side:c,price:l,size:d,filled:d,signature:r,orderHash:e,mock:!0}});window.dispatchEvent(t)}catch(e){}},800),{mock:!0,signature:r,orderHash:e,tokenId:i,price:l,size:d,side:c}}let b=await z(),y=new K.ClobClient(r,s,b),v=await y.createOrDeriveApiKey(),p=new K.ClobClient(r,s,b,await v,0,o);return await p.createAndPostOrder({tokenID:i,price:l,side:"BUY"===c?Number(K.Side.BUY):Number(K.Side.SELL),size:d,feeRateBps:0,nonce:Date.now(),expiration:Math.floor(Date.now()/1e3)+86400},{tickSize:u,negRisk:m},Number(K.OrderType.GTC))}var J=a(95704);function Z(e){let{isOpen:t,onClose:i,marketQuestion:d,selectedOutcome:c,onConfirmTrade:u,isTransacting:m=!1,conditionId:f,positionId:g}=e,{address:x,isConnected:h}=(0,s.F)(),y=(0,p.e)(),v=(0,l.i)(),{writeContractAsync:w}=(0,U.x)(),{connect:N,connectors:C}=(0,o.e)(),[I,B]=(0,r.useState)(""),[P,L]=(0,r.useState)("0.00"),[F,K]=(0,r.useState)(!1),[q,V]=(0,r.useState)("0.00"),[X,z]=(0,r.useState)(!1),[Z,G]=(0,r.useState)("YES_TOKEN"),[Q,$]=(0,r.useState)(!1),[ee,et]=(0,r.useState)(!1),[ea,en]=(0,r.useState)(null),[er,es]=(0,r.useState)("idle"),[eo,ei]=(0,r.useState)(null),[el,ed]=(0,r.useState)(null),[ec,eu]=(0,r.useState)(void 0),{loading:em}=D(f),{yesPrice:ef,noPrice:eg,loading:ex}=Y(f,6e4),eb="YES"===c?ef:eg,eh=eb&&eb>0?1/eb:0,ey=S.find(e=>e.question===d),ev="number"==typeof(null==ey?void 0:ey.expectedApy)?ey.expectedApy:.05,ep=f?S.find(e=>{var t,a;return(null==(a=e.conditionId)||null==(t=a.toLowerCase)?void 0:t.call(a))===f.toLowerCase()}):S.find(e=>e.question===d),ew="0x4D97DCd97eC945f40cF65F87097ACe5EA0476045",eN=(null==ep?void 0:ep.collateralToken)||"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174",{isResolved:eS,yesWon:eC,finalPayoutRatio:eE,vaultAddress:ek}=M(f);b.debug("TradingModal initialized",{isResolved:eS,vaultAddress:ek,conditionId:f}),(0,r.useEffect)(()=>{},[f,ep,d]),(0,r.useEffect)(()=>{if(!f)return},[f,ek,eS,eC,eE]);let{data:ej,refetch:eI}=(0,k.Q)({address:eN,abi:[{inputs:[{name:"account",type:"address"}],name:"balanceOf",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{name:"",type:"uint8"}],stateMutability:"view",type:"function"}],functionName:"balanceOf",args:x?[x]:void 0,query:{enabled:h&&!!x}}),eT=async e=>e?E.getSafesForOwner(e,v):[],eO=async()=>{try{if(z(!0),!y||!ek)return V("0.00"),0n;let e=[x||"",...await eT(x)].filter(Boolean),t={b:0n};for(let a of e)try{let e="YES"===c?"getYesYBalance":"getNoYBalance",n=await y.readContract({address:ek,abi:T,functionName:e,args:[a]});console.log("[TM][YMBalance] holder",a,"vaultAddress",ek,"outcome",c,"balance",n.toString()),n>t.b&&(t={h:a,b:n})}catch(e){console.log("[TM][YMBalance] Error querying holder",a,":",e)}return V(e_((0,j.J)(t.b,6))),console.log("[TM][BestYMBalance] vaultAddress",ek,"bestHolder",t.h,"balance",t.b.toString()),t.b}catch(e){console.log("[TM][YMBalance] Error:",e);return}finally{z(!1)}},eA=async()=>{try{if(K(!0),!y||!g)return eu(0n),L("0.00"),0n;let e=[x||"",...await eT(x)].filter(Boolean),t={b:0n};for(let a of e)try{let e=await y.readContract({address:ew,abi:O,functionName:"balanceOf",args:[a,BigInt(g)]});console.log("[TM][CTBalance] holder",a,"positionId",g,"balance",e.toString()),e>t.b&&(t={h:a,b:e})}catch(e){console.log("[TM][CTBalance] Error querying holder",a,":",e)}return eu(t.b),L(e_((0,j.J)(t.b,6))),console.log("[TM][BestCTBalance] positionId",g,"bestHolder",t.h,"balance",t.b.toString()),t.b}catch(e){console.log("[TM][CTBalance] Error:",e);return}finally{K(!1)}},e_=e=>{let t="string"==typeof e?parseFloat(e):e;return isNaN(t)?"0.00":t.toFixed(2)};(0,r.useEffect)(()=>{"USDC"===Z?ej&&L(e_((0,j.J)(ej,6))):"YES_TOKEN"!==Z&&"NO_TOKEN"!==Z||void 0===ec||F||L(e_((0,j.J)(ec,6)))},[Z,ej,ec,F]),(0,r.useEffect)(()=>{if(!h||!x)return;let e=setInterval(async()=>{if("USDC"===Z){let e=await eI();e.data&&L(e_((0,j.J)(e.data,6)))}else if("YES_TOKEN"===Z||"NO_TOKEN"===Z){let e=await eA();void 0!==e&&L(e_((0,j.J)(e,6)))}},6e4);return()=>clearInterval(e)},[h,x,Z,eI,eA]);let eD=e=>{L(e_(Math.max(0,parseFloat(P)-parseFloat(e))))};(0,r.useEffect)(()=>{if(t)try{G("YES"===c?"YES_TOKEN":"NO_TOKEN"),L("0.00"),V("0.00"),K(!0),z(!0),(async()=>{await Promise.all([eA(),eO()])})()}catch(e){}},[t,c,f,g,ek,eA,eO]);let eB=I?(parseFloat(I)*eh).toFixed(2):"0.00",eP=I?(parseFloat(eB)-parseFloat(I)).toFixed(2):"0.00";(0,r.useEffect)(()=>{t?(es("idle"),ed(null),et(!1),ei(null)):(B(""),en(null),es("idle"),ed(null),et(!1),ei(null),h&&x&&setTimeout(async()=>{if("USDC"===Z){let e=await eI();e.data&&L(e_((0,j.J)(e.data,6)))}else if("YES_TOKEN"===Z||"NO_TOKEN"===Z){let e=await eA();void 0!==e&&L(e_((0,j.J)(e,6)))}},500))},[t,h,x,Z,eI,eA]);let eL=async()=>{try{let e=C.find(e=>"Injected"===e.name&&"okxWallet"===e.id)||C[0];await N({connector:e})}catch(e){ed("Failed to connect wallet")}},eY=async()=>{if(!I||0>=parseFloat(I))return void ed("Please enter a valid amount");if(!h||!x)return void ed("Please connect your wallet first");if(!f||!g)return void ed("Missing market information");let e=e=>{if(!e)return"Unknown error";if(e instanceof Error)return e.message;try{var t,a;return(null==e?void 0:e.shortMessage)||(null==e?void 0:e.message)||(null==e||null==(t=e.cause)?void 0:t.shortMessage)||(null==e||null==(a=e.cause)?void 0:a.message)||JSON.stringify(e)}catch(t){return String(e)}};try{var t,n,r,s,o,i;et(!0),ed(null);let l=(f?S.find(e=>{var t,a;return(null==(a=e.conditionId)||null==(t=a.toLowerCase)?void 0:t.call(a))===f.toLowerCase()}):void 0)||S.find(e=>e.question===d),m=null==l||null==(t=l.clob)?void 0:t.tokenIdYes,b=null==l||null==(n=l.clob)?void 0:n.tokenIdNo,h=(null==l||null==(r=l.clob)?void 0:r.tickSize)||J.env.NEXT_PUBLIC_PM_TICK_SIZE||"0.001",p="true"===String(null!=(i=null!=(o=null==l||null==(s=l.clob)?void 0:s.negRisk)?o:J.env.NEXT_PUBLIC_PM_NEG_RISK)?i:"false"),N=J.env.NEXT_PUBLIC_PM_TOKEN_ID_YES,C=J.env.NEXT_PUBLIC_PM_TOKEN_ID_NO,E="YES"===c?m:b,k="YES"===c?N:C,T=E||k;if("USDC"===Z&&T){let t,a;es("buying");try{t=BigInt(g),a=await y.readContract({address:ew,abi:O,functionName:"balanceOf",args:[x,t]})}catch(e){}let n=eb&&eb>0?eb:eh>0?1/eh:.5,r=Math.min(.99,Math.max(.01,1.05*n)),s=parseFloat(I)/r;if(!T)throw Error("Missing Polymarket tokenId for selected outcome");try{if(await H({tokenId:T,price:r,size:s,side:"BUY",tickSize:h,negRisk:p}),137===v){let e=J.env.NEXT_PUBLIC_PM_EXCHANGE_ADDRESS,n=Number(J.env.NEXT_PUBLIC_PM_WAIT_TIMEOUT_MS||"15000");if(e&&y){let r=await y.getBlockNumber(),s=e=>new Promise(t=>setTimeout(t,e)),o=Date.now()+n,i=async()=>{if(!t)return;let e=e=>new Promise(t=>setTimeout(t,e));for(;;){try{let e=await y.readContract({address:ew,abi:O,functionName:"balanceOf",args:[x,t]});if(e>0n||void 0!==a&&e>a)return}catch(e){}await e(5e3)}};for(;Date.now()<o;){try{let t=await y.getLogs({address:e,fromBlock:r,toBlock:"latest"}),a=!1;for(let e of t)try{(0,R.j)({abi:_,data:e.data,topics:e.topics||[],eventName:"OrderFilled"}),a=!0;break}catch(e){}if(a)break}catch(e){}await s(1e3)}try{await i()}catch(e){}G("YES"===c?"YES_TOKEN":"NO_TOKEN"),B(""),en(null),ei("order")}}else{let e=async()=>{let e=J.env.NEXT_PUBLIC_PM_MOCK_FILL_CONTRACT,t=J.env.NEXT_PUBLIC_PM_MOCK_FILL_EVENT_TOPIC,a=Number(J.env.NEXT_PUBLIC_PM_MOCK_TIMEOUT_MS||"15000");if(e&&t&&y){let n=await y.getBlockNumber(),r=e=>new Promise(t=>setTimeout(t,e)),s=Date.now()+a;for(;Date.now()<s;){try{for(let a of(await y.getLogs({address:e,fromBlock:n,toBlock:"latest"}))){let e=a.topics||[];if(e.includes(t)){try{(0,R.j)({abi:_,data:a.data,topics:e,eventName:"OrderFilled"})}catch(e){}return}}}catch(e){}await r(800)}throw Error("Timed out waiting for local OrderFill")}let n="true"===String(J.env.NEXT_PUBLIC_PM_MOCK_BROWSER_EVENT||"").toLowerCase();return await new Promise(e=>{let t=()=>{window.removeEventListener("pm:OrderFill",t),e()};window.addEventListener("pm:OrderFill",t,{once:!0}),n&&setTimeout(()=>{},a)})},n=async()=>{if(!t)return;let e=e=>new Promise(t=>setTimeout(t,e));for(;;){try{let e=await y.readContract({address:ew,abi:O,functionName:"balanceOf",args:[x,t]});if(e>0n||void 0!==a&&e>a)return}catch(e){}await e(5e3)}};await Promise.race([e(),n()]),G("YES"===c?"YES_TOKEN":"NO_TOKEN"),B(""),en(null),ei("order")}}catch(t){es("error"),ed("CLOB order failed: ".concat(e(t)));return}es("completed"),ei(e=>e||"order")}else if("USDC"===Z){let e=f||(null==l?void 0:l.conditionId);if(!(e&&/^0x[0-9a-fA-F]{64}$/.test(e))){es("error"),ed("Missing valid conditionId (bytes32). Please fill src/lib/markets-config.ts or configure CLOB params.");return}es("buying");let t=(0,W.X)(I,6),a=null==l?void 0:l.ymVaultAddress;try{await w({address:ew,abi:O,functionName:"splitPosition",args:[eN,"0x0000000000000000000000000000000000000000000000000000000000000000",e,"YES"===c?[1n]:[0n],t]}),eD(I)}catch(e){es("error"),ed(e instanceof Error?e.message:"splitPosition failed");return}es("transferring");try{await w({address:ew,abi:O,functionName:"safeTransferFrom",args:[x,a,BigInt(g),(0,W.X)(I,6),"0x"]})}catch(e){es("error"),ed(e instanceof Error?e.message:"ERC1155 transfer failed");return}await new Promise(e=>setTimeout(e,2e3)),ei("deposit")}else{if(!g){ed("Missing positionId for YES token"),es("error");return}let e=(0,W.X)(I,6),t=x,n="EOA";try{let a=[x||"",...await (async()=>{try{if(137!==v&&1337!==v)return[];let e=await fetch("https://api.allorigins.win/raw?url=".concat(encodeURIComponent("https://safe-transaction-polygon.safe.global/api/v1/owners/".concat(x,"/safes/"))),{cache:"no-store"});if(!e.ok)return[];let t=await e.json();return Array.isArray(null==t?void 0:t.safes)?t.safes:[]}catch(e){return[]}})()].filter(Boolean),r={b:0n};for(let e of a)try{let t=await y.readContract({address:ew,abi:O,functionName:"balanceOf",args:[e,BigInt(g)]});t>r.b&&(r={h:e,b:t})}catch(e){}if(r.h&&(n=(t=r.h).toLowerCase()===x.toLowerCase()?"EOA":"SAFE",r.b<e)){es("error"),ed("Insufficient YES token balance for transfer");return}}catch(e){}try{if(!l||!l.ymVaultAddress){es("error"),ed("Missing ymVaultAddress in markets-config.ts");return}if(!await y.readContract({address:l.ymVaultAddress,abi:[{inputs:[{name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{name:"",type:"bool"}],stateMutability:"view",type:"function"}],functionName:"supportsInterface",args:["0x4e2312e0"]})){es("error"),ed("Vault does not implement ERC1155Receiver");return}}catch(e){}es("transferring");try{if(!l||!l.ymVaultAddress){es("error"),ed("Missing ymVaultAddress in markets-config.ts");return}let r=l.ymVaultAddress;if("EOA"===n)await w({address:ew,abi:O,functionName:"safeTransferFrom",args:[x,r,BigInt(g),e,"0x"]}),eD(I);else{let n=(await a.e(882).then(a.bind(a,26882))).encodeFunctionData({abi:O,functionName:"safeTransferFrom",args:[t,r,BigInt(g),e,"0x"]}),s=(await a.e(882).then(a.bind(a,26882))).padHex(x,{size:32});try{let e=await y.readContract({address:t,abi:A,functionName:"getThreshold"});if(1n!==e)throw Error("Safe threshold != 1; multi-sig not implemented yet")}catch(e){throw e}await w({address:t,abi:A,functionName:"execTransaction",args:[ew,0n,n,0,0n,0n,0n,"0x0000000000000000000000000000000000000000","0x0000000000000000000000000000000000000000",s+"0x0000000000000000000000000000000000000000000000000000000000000000".slice(2)+"0x01".slice(2)]}),eD(I)}}catch(e){es("error"),ed(e instanceof Error?e.message:"Transfer failed");return}ei("deposit")}es("completed"),B(""),setTimeout(async()=>{if("USDC"===Z){let e=await eI();e.data&&L(e_((0,j.J)(e.data,6)))}else if("YES_TOKEN"===Z||"NO_TOKEN"===Z){let e=await eA();void 0!==e&&L(e_((0,j.J)(e,6)))}await eO()},2e3),await u(I,c)}catch(t){es("error"),ed(e(t)),setTimeout(async()=>{if("USDC"===Z){let e=await eI();e.data&&L(e_((0,j.J)(e.data,6)))}else if("YES_TOKEN"===Z||"NO_TOKEN"===Z){let e=await eA();void 0!==e&&L(e_((0,j.J)(e,6)))}},500)}finally{et(!1)}},eF=I&&parseFloat(I)>0&&parseFloat(I)<=parseFloat(P);return t?(0,n.jsx)("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-4",onClick:e=>{e.target===e.currentTarget&&i()},children:(0,n.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md mx-auto animate-in fade-in-0 zoom-in-95 duration-200",onClick:e=>e.stopPropagation(),children:[(0,n.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-100",children:[(0,n.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Trade Position"}),(0,n.jsx)("div",{className:"flex items-center gap-2",children:(0,n.jsx)("button",{onClick:i,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:(0,n.jsx)("svg",{className:"w-5 h-5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})})]}),(0,n.jsxs)("div",{className:"p-6",children:[(0,n.jsxs)("div",{className:"mb-6",children:[(0,n.jsx)("div",{className:"text-sm text-gray-600 mb-1",children:"Market"}),(0,n.jsx)("div",{className:"font-medium text-gray-900 leading-tight mb-3",children:d}),(0,n.jsx)("div",{className:"bg-blue-50 rounded-lg p-3 border border-blue-200",children:(0,n.jsxs)("div",{className:"text-sm font-medium text-blue-900 flex justify-between items-center",children:[(0,n.jsx)("span",{children:"Your Current Holding:"}),X?(0,n.jsxs)("div",{className:"flex items-center gap-1",children:[(0,n.jsx)("div",{className:"w-3 h-3 border border-blue-400 border-t-transparent rounded-full animate-spin"}),(0,n.jsx)("span",{children:"Loading..."})]}):(0,n.jsxs)("span",{className:"font-semibold",children:[q," ",c,".Y"]})]})})]}),(0,n.jsx)("div",{className:"space-y-4",children:(0,n.jsxs)("div",{className:"bg-gray-50 rounded-xl p-4",children:[(0,n.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,n.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"You Pay"}),(0,n.jsxs)("span",{className:"text-sm text-gray-500 flex items-center gap-2",children:["Balance:",F?(0,n.jsxs)("div",{className:"flex items-center gap-1",children:[(0,n.jsx)("div",{className:"w-3 h-3 border border-gray-400 border-t-transparent rounded-full animate-spin"}),(0,n.jsx)("span",{children:"Loading..."})]}):(0,n.jsxs)("span",{children:[P," ","USDC"===Z?"USDC":c]})]})]}),(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsx)("input",{type:"number",value:I,onChange:e=>{B(e.target.value),en(null)},placeholder:"0.00",className:"bg-transparent text-2xl font-bold text-gray-900 border-none outline-none flex-1 [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none"}),(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsxs)("button",{type:"button",onClick:()=>$(e=>!e),className:"flex items-center gap-2 bg-white rounded-lg px-3 py-2 border border-gray-200 hover:bg-gray-50",children:[(0,n.jsx)("div",{className:"w-6 h-6 bg-blue-500 rounded-full flex items-center justify-center text-white text-xs font-bold",children:"USDC"===Z?"$":"YES"===c?"Y":"N"}),(0,n.jsx)("span",{className:"font-medium text-gray-900",children:"USDC"===Z?"USDC":c}),(0,n.jsx)("svg",{className:"w-4 h-4 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),Q&&(0,n.jsx)("div",{className:"absolute right-0 mt-2 w-36 bg-white border border-gray-200 rounded-md shadow-lg z-10",children:(0,n.jsxs)("button",{className:"w-full text-left px-3 py-2 hover:bg-gray-50 ".concat("USDC"!==Z?"text-blue-600":"text-gray-900"),onClick:()=>{G("YES"===c?"YES_TOKEN":"NO_TOKEN"),$(!1)},children:[c," Token"]})})]})]}),(0,n.jsxs)("div",{className:"flex gap-2 mt-3",children:[[25,50,75].map(e=>{let t=ea===e.toString();return(0,n.jsxs)("button",{onClick:()=>{B((parseFloat(P)*e/100).toFixed(2)),en(e.toString())},className:"px-3 py-1 text-xs rounded-lg transition-colors ".concat(t?"bg-blue-100 border border-blue-200 text-blue-800":"bg-white border border-gray-200 text-gray-700 hover:bg-gray-50"),children:[e,"%"]},e)}),(0,n.jsx)("button",{onClick:()=>{B(P),en("MAX")},className:"px-3 py-1 text-xs rounded-lg transition-colors ".concat("MAX"===ea?"bg-blue-100 border border-blue-200 text-blue-800":"bg-white border border-gray-200 text-gray-700 hover:bg-gray-50"),children:"MAX"})]})]})}),I&&parseFloat(I)>0&&(0,n.jsxs)("div",{className:"mt-4 space-y-2 text-sm",children:[(0,n.jsxs)("div",{className:"flex justify-between text-gray-600",children:[(0,n.jsx)("span",{children:"Current Odds"}),(0,n.jsx)("span",{children:ex&&em?"...":"".concat(eh.toFixed(2),"x")})]}),(0,n.jsxs)("div",{className:"flex justify-between text-gray-600",children:[(0,n.jsx)("span",{children:"Potential Profit"}),(0,n.jsxs)("span",{className:"text-green-600",children:["+",eP," USDC"]})]}),parseFloat(I||"0")>0&&(0,n.jsxs)("div",{className:"flex justify-between text-gray-600",children:[(0,n.jsx)("span",{children:"Expected APY"}),(0,n.jsxs)("span",{className:"text-green-600",children:["~",(100*ev).toFixed(2),"%"]})]}),(0,n.jsxs)("div",{className:"flex justify-between text-gray-600",children:[(0,n.jsx)("span",{children:"Network Fee"}),(0,n.jsx)("span",{children:"~$0.50"})]})]}),"idle"!==er&&(0,n.jsx)("div",{className:"mt-4 p-3 rounded-lg bg-blue-50 border border-blue-200",children:(0,n.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,n.jsx)("div",{className:"w-2 h-2 rounded-full ".concat("buying"===er||"transferring"===er?"bg-blue-500 animate-pulse":"completed"===er?"bg-green-500":"bg-red-500")}),(0,n.jsxs)("span",{className:"text-blue-700",children:["buying"===er&&"USDC"===Z&&"Waiting for order fill on CLOB...","transferring"===er&&"Depositing to YM Vault...","completed"===er&&("deposit"===eo?"Deposit completed successfully.":"Order filled successfully. You can now deposit YES to earn yield."),"error"===er&&"Error: ".concat(el)]})]})}),(0,n.jsx)("button",{onClick:h?eS?async()=>{try{if(et(!0),!ek)throw Error("Missing ymVaultAddress");console.log("[Withdraw][Start] Starting withdrawal check - Vault address:",ek,"User address:",x);let e=0n,t=0n;try{if(e=await y.readContract({address:ek,abi:T,functionName:"getYesYBalance",args:[x]}),t=await y.readContract({address:ek,abi:T,functionName:"getNoYBalance",args:[x]}),null==e)try{e=await y.readContract({address:ek,abi:T,functionName:"yesYTokens",args:[x]})}catch(e){}if(null==t)try{t=await y.readContract({address:ek,abi:T,functionName:"noYTokens",args:[x]})}catch(e){}}catch(e){}let n=(null!=e?e:0n)+(null!=t?t:0n);if(console.log("[Withdraw][UserBalance] EOA address:",x,"YES.Y balance:",String(null!=e?e:0n),"NO.Y balance:",String(null!=t?t:0n),"Total balance:",String(n)),n>0n)console.log("[Withdraw][Direct] User EOA has balance, directly call vault withdraw - balance:",String(n)),await w({address:ek,abi:T,functionName:"withdraw",args:[x]});else{console.log("[Withdraw][CheckSafes] User EOA balance is 0, starting to check Safe balances");let e=await eT(x);console.log("[Withdraw][Safes] Found Safes:",e);let t={balance:0n};for(let a of e)try{let e=await y.readContract({address:ek,abi:T,functionName:"getYesYBalance",args:[a]}),n=await y.readContract({address:ek,abi:T,functionName:"getNoYBalance",args:[a]});if(null==e)try{e=await y.readContract({address:ek,abi:T,functionName:"yesYTokens",args:[a]})}catch(e){}if(null==n)try{n=await y.readContract({address:ek,abi:T,functionName:"noYTokens",args:[a]})}catch(e){}let r=(null!=e?e:0n)+(null!=n?n:0n);console.log("[Withdraw][SafeBalance] Safe address:",a,"YES.Y balance:",String(null!=e?e:0n),"NO.Y balance:",String(null!=n?n:0n),"Total balance:",String(r)),r>t.balance&&(t={address:a,balance:r})}catch(e){}if(!t.address||0n===t.balance)throw Error("No yield token balance found in user account or safes");console.log("[Withdraw][SafeExecute] Selected Safe address:",t.address,"Balance:",String(t.balance),"Withdraw to user address:",x);let{encodeFunctionData:n,padHex:r}=await a.e(882).then(a.bind(a,26882)),s=n({abi:T,functionName:"withdraw",args:[x]});try{let e=await y.readContract({address:t.address,abi:A,functionName:"getThreshold"});if(1n!==e)throw Error("Safe threshold != 1; multi-sig withdraw not implemented")}catch(e){throw e}let o=r(x,{size:32});await w({address:t.address,abi:A,functionName:"execTransaction",args:[ek,0n,s,0,0n,0n,0n,"0x0000000000000000000000000000000000000000","0x0000000000000000000000000000000000000000",o+"0x0000000000000000000000000000000000000000000000000000000000000000".slice(2)+"0x01".slice(2)]})}es("completed")}catch(e){es("error"),ed(e instanceof Error?e.message:"Withdraw failed"),console.error("[Withdraw][Error]",e)}finally{et(!1)}}:eY:eL,disabled:eS?m||ee:!eF||m||ee||"buying"===er||"transferring"===er,className:"w-full mt-6 py-4 rounded-xl font-bold text-lg transition-all ".concat(eS||eF&&h?m||ee||"buying"===er||"transferring"===er?"bg-blue-400 text-white cursor-not-allowed":"completed"===er?"bg-green-600 text-white":"bg-blue-600 hover:bg-blue-700 text-white shadow-lg hover:shadow-xl transform hover:-translate-y-0.5":"bg-gray-200 text-gray-500 cursor-not-allowed"),children:h?eS?"Withdraw USDC":m||ee||"buying"===er||"transferring"===er?"buying"===er?"Placing order...":"Depositing to YM Vault...":"completed"===er?"YES_TOKEN"===Z||"NO_TOKEN"===Z?"Deposit ".concat(c," to Yield"):"Buy ".concat(c," to win ").concat(eB," USDC"):I?eF?"YES_TOKEN"===Z||"NO_TOKEN"===Z?"Deposit ".concat(c," to Yield"):"Buy ".concat(c," to win ").concat(eB," USDC"):"Insufficient Balance":"Enter Amount":"Connect Wallet"}),(0,n.jsx)("div",{className:"mt-4 text-xs text-gray-500 text-center",children:"By trading, you agree to our terms and acknowledge the risks involved."})]})]})}):null}let G=(0,r.createContext)(void 0);function Q(e){let{children:t}=e,[a]=(0,r.useState)(S),[s,o]=(0,r.useState)(null),[i,l]=(0,r.useState)(!0);(0,r.useEffect)(()=>{let e=S[0];e&&o(e.slug),l(!1)},[]);let d=s&&a.find(e=>e.slug===s)||null;return(0,n.jsx)(G.Provider,{value:{markets:a,activeMarket:d,activeMarketSlug:s,setActiveMarket:e=>{o(e)},isLoading:i},children:t})}function $(){let e=(0,r.useContext)(G);if(void 0===e)throw Error("useMarket must be used within a MarketProvider");return e}function ee(e){let{condition:t,onTradeClick:o,preloadedResolved:i,loadingOutcome:d}=e,{}=D(t.conditionId),{volume:c,yielding:u,loading:m,error:f}=function(e){let[t,a]=(0,r.useState)({volume:0,yielding:0,idle:0}),n=S.find(t=>{var a,n;return(null==(n=t.conditionId)||null==(a=n.toLowerCase)?void 0:a.call(n))===(e||"").toLowerCase()}),s=(null==n?void 0:n.ymVaultAddress)||"0x0000000000000000000000000000000000000000",{data:o,error:i,isLoading:l}=(0,k.Q)({address:s,abi:T,functionName:"totalMatched",query:{enabled:!!s}}),d=null==i?void 0:i.message,c=t.volume,u=t.yielding,m=t.idle;return!o||l?(u=t.yielding,m=t.idle,c=t.volume):(u=parseFloat((0,j.J)(o,6)),c=(m=t.idle)+u),(0,r.useEffect)(()=>{l||a({volume:Math.round(100*c)/100,yielding:Math.round(100*u)/100,idle:Math.round(100*m)/100})},[l,c,u,m]),{volume:Math.round(100*c)/100,yielding:Math.round(100*u)/100,idle:Math.round(100*m)/100,loading:l,error:d}}(t.conditionId),g=S.find(e=>{var a,n;return(null==(n=e.conditionId)||null==(a=n.toLowerCase)?void 0:a.call(n))===t.conditionId.toLowerCase()}),x=null==g?void 0:g.slug,{yesPrice:h,noPrice:y,volume:v}=Y(x||t.conditionId,6e4,!!x),{isResolved:C,vaultAddress:I}=M(t.conditionId),{writeContractAsync:O}=(0,U.x)(),_=(0,p.e)(),{address:B}=(0,s.F)(),P=(0,l.i)(),[L,F]=(0,r.useState)(!1),[R,W]=(0,r.useState)(!1),[K,q]=(0,r.useState)(!1),[V,X]=(0,r.useState)(null),[z,H]=(0,r.useState)(null),J=e=>e>=1e6?(e/1e6).toFixed(1)+"M":e>=1e3?(e/1e3).toFixed(1)+"K":Math.floor(e).toString(),Z=!I||/^0x0{40}$/i.test(I),G=void 0!==v?J(v):m?"...":J(0),Q=Z||f?"—":m?"...":J(u),$=!Z&&!f,ee=void 0===v||m?m?"...":J($?c:null!=v?v:0):J(v+($?u:0)),et=Math.ceil((t.expirationDate.getTime()-Date.now())/864e5),[ea,en]=r.useState(!1);r.useEffect(()=>{en(!0)},[]);let er=ea?(void 0!==i?i:C)||t.status===N.Resolved?N.Resolved:et<=0?N.Expired:t.status:t.status;return(0,n.jsx)("div",{className:"bg-white dark:bg-[#2e3b5e] rounded-xl border-2 dark:border-[#34495e] transition-all hover:shadow-md ".concat(function(e){switch(e){case w.Crypto:return"bg-orange-50 border-orange-200";case w.Political:return"bg-blue-50 border-blue-200";case w.Weather:return"bg-sky-50 border-sky-200";case w.Sports:return"bg-green-50 border-green-200";case w.Economics:return"bg-emerald-50 border-emerald-200";case w.Technology:return"bg-purple-50 border-purple-200";default:return"bg-gray-50 border-gray-200"}}(t.category)),children:(0,n.jsxs)("div",{className:"p-4",children:[(0,n.jsxs)("div",{className:"flex justify-between items-center",children:[(0,n.jsx)("div",{className:"flex-1",children:(0,n.jsx)("div",{className:"flex items-start gap-3 mb-3",children:(0,n.jsxs)("div",{className:"flex-1",children:[(0,n.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,n.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat(function(e){switch(e.toLowerCase()){case"open":return"bg-green-100 text-green-800";case"resolved":return"bg-blue-100 text-blue-800";case"expired":return"bg-gray-100 text-gray-800";case"paused":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-600"}}(er)),children:er===N.Open?"Open":er===N.Resolved?"Resolved":er===N.Expired?"Expired":er.charAt(0).toUpperCase()+er.slice(1)}),(0,n.jsx)("h3",{className:"font-semibold text-gray-900 dark:text-[#e0e0e0] line-clamp-2 leading-tight",children:t.question})]}),(0,n.jsxs)("div",{className:"flex items-center gap-4 text-sm",children:[(0,n.jsxs)("div",{className:"flex items-center gap-1",children:[(0,n.jsx)("span",{className:"font-medium text-gray-900 dark:text-[#e0e0e0]",children:"..."===ee?"...":"$".concat(ee)}),(0,n.jsx)("span",{className:"text-xs text-gray-500 dark:text-[#a0a0a0]",children:"volume"})]}),(0,n.jsxs)("div",{className:"flex items-center gap-1",children:[(0,n.jsx)("span",{className:"w-1.5 h-1.5 bg-green-400 rounded-full"}),(0,n.jsx)("span",{className:"font-medium text-gray-700 dark:text-[#e0e0e0]",children:"..."===Q||"—"===Q?Q:"$".concat(Q)}),(0,n.jsx)("span",{className:"text-xs text-gray-500 dark:text-[#a0a0a0]",children:"yielding"})]}),(0,n.jsxs)("div",{className:"flex items-center gap-1",children:[(0,n.jsx)("span",{className:"w-1.5 h-1.5 bg-gray-400 rounded-full"}),(0,n.jsx)("span",{className:"font-medium text-gray-700 dark:text-[#e0e0e0]",children:"..."===G?"...":"$".concat(G)}),(0,n.jsx)("span",{className:"text-xs text-gray-500 dark:text-[#a0a0a0]",children:"idle"})]})]})]})})}),(0,n.jsx)("div",{className:"flex items-center gap-3 ml-4",children:C?(0,n.jsx)("button",{onClick:async()=>{try{if(W(!0),q(!0),H(null),X(null),b.transaction("Starting withdrawal balance query",{vaultAddress:I,address:B,chainId:P}),!I||!B)return void(I?(b.error("User address is empty"),H("Please connect your wallet")):(b.error("Vault address is empty"),H("Vault address not configured for this market")));let e=0n,t=0n;try{if(b.balance("Querying EOA YES balance..."),e=await _.readContract({address:I,abi:T,functionName:"getYesYBalance",args:[B]}),console.log("EOA YES balance:",e.toString()),console.log("Querying EOA NO balance..."),t=await _.readContract({address:I,abi:T,functionName:"getNoYBalance",args:[B]}),console.log("EOA NO balance:",t.toString()),null==e){console.log("YES balance is null, trying fallback query...");try{e=await _.readContract({address:I,abi:T,functionName:"yesYTokens",args:[B]}),console.log("Fallback YES balance:",e.toString())}catch(e){console.log("Fallback YES query failed:",e)}}if(null==t){console.log("NO balance is null, trying fallback query...");try{t=await _.readContract({address:I,abi:T,functionName:"noYTokens",args:[B]}),console.log("Fallback NO balance:",t.toString())}catch(e){console.log("Fallback NO query failed:",e)}}}catch(e){console.log("EOA balance query failed:",e)}let a=(null!=e?e:0n)+(null!=t?t:0n);if(console.log("EOA total balance:",a.toString()),a>0n){console.log("EOA has balance, querying estimateWithdrawal...");let e=await _.readContract({address:I,abi:T,functionName:"estimateWithdrawal",args:[B]});console.log("EOA estimateWithdrawal result:",e.toString()),X(Number(e)/1e6)}else{console.log("EOA balance is 0, querying Safe balances...");let e=await E.getSafesForOwner(B||"",P);console.log("Found Safe addresses:",e);let t={balance:0n};for(let a of e)try{console.log("Querying Safe ".concat(a," balance..."));let e=await _.readContract({address:I,abi:T,functionName:"getYesYBalance",args:[a]}),n=await _.readContract({address:I,abi:T,functionName:"getNoYBalance",args:[a]});if(console.log("Safe ".concat(a," YES balance:"),e.toString()),console.log("Safe ".concat(a," NO balance:"),n.toString()),null==e)try{e=await _.readContract({address:I,abi:T,functionName:"yesYTokens",args:[a]}),console.log("Safe ".concat(a," Fallback YES balance:"),e.toString())}catch(e){console.log("Safe ".concat(a," Fallback YES query failed:"),e)}if(null==n)try{n=await _.readContract({address:I,abi:T,functionName:"noYTokens",args:[a]}),console.log("Safe ".concat(a," Fallback NO balance:"),n.toString())}catch(e){console.log("Safe ".concat(a," Fallback NO query failed:"),e)}let r=(null!=e?e:0n)+(null!=n?n:0n);console.log("Safe ".concat(a," total balance:"),r.toString()),r>t.balance&&(t={address:a,balance:r},console.log("Updated best Safe: ".concat(a,", balance: ").concat(r.toString())))}catch(e){console.log("Safe ".concat(a," query failed:"),e)}if(console.log("Best Safe:",t),t.balance>0n){console.log("Safe has balance, querying estimateWithdrawal...");let e=await _.readContract({address:I,abi:T,functionName:"estimateWithdrawal",args:[t.address]});console.log("Safe estimateWithdrawal result:",e.toString()),X(Number(e)/1e6)}else console.log("No balance found"),X(0)}}catch(e){H(e instanceof Error?e.message:"Failed to estimate withdrawal")}finally{q(!1)}},className:"bg-blue-600 text-white rounded-lg text-center w-full sm:w-[268px] h-12 flex items-center justify-center hover:bg-blue-700 transition-colors cursor-pointer",children:L?"Withdrawing...":"Withdraw USDC"}):(0,n.jsxs)("div",{className:"flex gap-3",children:[(0,n.jsxs)("button",{onClick:()=>null==o?void 0:o("YES",t),disabled:"YES"===d,className:"bg-green-50 dark:bg-[#28a745] border border-green-200 dark:border-[#28a745] text-green-800 dark:text-white px-8 rounded-lg text-center w-32 h-12 flex flex-col items-center justify-center hover:bg-green-100 dark:hover:bg-[#218838] transition-colors cursor-pointer ".concat("YES"===d?"opacity-50 cursor-not-allowed":""),children:[(0,n.jsxs)("div",{className:"font-bold text-xl flex items-center gap-2",children:["YES"===d&&(0,n.jsx)("div",{className:"w-4 h-4 border-2 border-green-600 border-t-transparent rounded-full animate-spin"}),"YES"]}),(0,n.jsx)("div",{className:"text-sm font-medium text-green-600 dark:text-white",children:void 0===h?"...":"".concat((100*h).toFixed(0),"%")})]}),(0,n.jsxs)("button",{onClick:()=>null==o?void 0:o("NO",t),disabled:"NO"===d,className:"bg-red-50 dark:bg-[#dc3545] border border-red-200 dark:border-[#dc3545] text-red-800 dark:text-white px-8 rounded-lg text-center w-32 h-12 flex flex-col items-center justify-center hover:bg-red-100 dark:hover:bg-[#c82333] transition-colors cursor-pointer ".concat("NO"===d?"opacity-50 cursor-not-allowed":""),children:[(0,n.jsxs)("div",{className:"font-bold text-xl flex items-center gap-2",children:["NO"===d&&(0,n.jsx)("div",{className:"w-4 h-4 border-2 border-red-600 border-t-transparent rounded-full animate-spin"}),"NO"]}),(0,n.jsx)("div",{className:"text-sm font-medium text-red-600 dark:text-white",children:void 0===y?"...":"".concat((100*y).toFixed(0),"%")})]})]})})]}),(()=>{let e=t.positions.find(e=>"YES"===e.outcomeLabel),a=t.positions.find(e=>"NO"===e.outcomeLabel),r=e?Number(e.idleBalanceFormatted):0,s=a?Number(a.idleBalanceFormatted):0;if(r>0||s>0){let e=e=>e>=1e3?"".concat((e/1e3).toFixed(1),"K"):Math.floor(e).toString();if(r>0&&s>0)return(0,n.jsxs)("div",{className:"mt-3 text-xs text-amber-700 dark:text-[#ffc107]",children:["You have ",e(r)," USDC worth YES and NO tokens idle, click"," ",(0,n.jsx)("button",{onClick:()=>null==o?void 0:o("YES",t),className:"text-blue-600 hover:text-blue-800 underline",children:"YES"})," ","or"," ",(0,n.jsx)("button",{onClick:()=>null==o?void 0:o("NO",t),className:"text-blue-600 hover:text-blue-800 underline",children:"NO"})," ","button to yield"]});if(r>0)return(0,n.jsxs)("div",{className:"mt-3 text-xs text-amber-700 dark:text-[#ffc107]",children:["You have ",e(r)," USDC worth YES tokens idle, click"," ",(0,n.jsx)("button",{onClick:()=>null==o?void 0:o("YES",t),className:"text-blue-600 hover:text-blue-800 underline",children:"YES"})," ","button to yield"]});if(s>0)return(0,n.jsxs)("div",{className:"mt-3 text-xs text-amber-700 dark:text-[#ffc107]",children:["You have ",e(s)," USDC worth NO tokens idle, click"," ",(0,n.jsx)("button",{onClick:()=>null==o?void 0:o("NO",t),className:"text-blue-600 hover:text-blue-800 underline",children:"NO"})," ","button to yield"]})}return null})(),R&&(0,n.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40",children:(0,n.jsxs)("div",{className:"bg-white dark:bg-[#2e3b5e] rounded-xl p-6 w-full max-w-sm border border-gray-200 dark:border-[#34495e]",children:[(0,n.jsx)("div",{className:"text-lg font-semibold mb-3 text-gray-900 dark:text-[#e0e0e0]",children:"Confirm Withdrawal"}),(0,n.jsxs)("div",{className:"text-sm text-gray-700 dark:text-[#e0e0e0] mb-4",children:[K&&"Estimating available USDC...",!K&&z&&(0,n.jsx)("span",{className:"text-red-600",children:z}),!K&&!z&&(0,n.jsxs)("span",{children:["You can withdraw ",(0,n.jsx)("span",{className:"font-semibold",children:null!==V?"".concat(V.toFixed(2)," USDC"):"—"})]})]}),(0,n.jsxs)("div",{className:"flex gap-3 justify-end",children:[(0,n.jsx)("button",{onClick:()=>W(!1),className:"px-4 py-2 rounded border border-gray-300 text-gray-700 hover:bg-gray-100",children:"Cancel"}),0!==V&&(0,n.jsx)("button",{disabled:K||L||!I,className:"px-4 py-2 rounded text-white font-medium transition-colors bg-blue-600 hover:bg-blue-700",onClick:async()=>{try{if(F(!0),!I)throw Error("Missing ymVaultAddress");console.log("[Withdraw][Start] Starting withdrawal check - Vault address:",I,"User address:",B);let e=0n,t=0n;try{if(e=await _.readContract({address:I,abi:T,functionName:"getYesYBalance",args:[B]}),t=await _.readContract({address:I,abi:T,functionName:"getNoYBalance",args:[B]}),null==e)try{e=await _.readContract({address:I,abi:T,functionName:"yesYTokens",args:[B]})}catch(e){}if(null==t)try{t=await _.readContract({address:I,abi:T,functionName:"noYTokens",args:[B]})}catch(e){}}catch(e){}let n=(null!=e?e:0n)+(null!=t?t:0n);if(console.log("[Withdraw][UserBalance] EOA address:",B,"YES.Y balance:",String(null!=e?e:0n),"NO.Y balance:",String(null!=t?t:0n),"Total balance:",String(n)),n>0n)console.log("[Withdraw][Direct] User EOA has balance, directly calling vault withdraw - balance:",String(n)),await O({address:I,abi:T,functionName:"withdraw",args:[B]});else{console.log("[Withdraw][CheckSafes] User EOA balance is 0, starting to check Safe balances");let e=await E.getSafesForOwner(B||"",P);console.log("[Withdraw][Safes] Found Safes:",e);let t={balance:0n};for(let a of e)try{let e=await _.readContract({address:I,abi:T,functionName:"getYesYBalance",args:[a]}),n=await _.readContract({address:I,abi:T,functionName:"getNoYBalance",args:[a]});if(null==e)try{e=await _.readContract({address:I,abi:T,functionName:"yesYTokens",args:[a]})}catch(e){}if(null==n)try{n=await _.readContract({address:I,abi:T,functionName:"noYTokens",args:[a]})}catch(e){}let r=(null!=e?e:0n)+(null!=n?n:0n);console.log("[Withdraw][SafeBalance] Safe address:",a,"YES.Y balance:",String(null!=e?e:0n),"NO.Y balance:",String(null!=n?n:0n),"Total balance:",String(r)),r>t.balance&&(t={address:a,balance:r})}catch(e){}if(!t.address||0n===t.balance)throw Error("No yield token balance found in user account or safes");console.log("[Withdraw][SafeExecute] Selected Safe address:",t.address,"balance:",String(t.balance),"withdraw to user address:",B);let{encodeFunctionData:n,padHex:r}=await a.e(882).then(a.bind(a,26882)),s=n({abi:T,functionName:"withdraw",args:[B]});try{let e=await _.readContract({address:t.address,abi:A,functionName:"getThreshold"});if(1n!==e)throw Error("Safe threshold != 1; multi-sig withdraw not implemented")}catch(e){throw e}let o=r(B,{size:32});await O({address:t.address,abi:A,functionName:"execTransaction",args:[I,0n,s,0,0n,0n,0n,"0x0000000000000000000000000000000000000000","0x0000000000000000000000000000000000000000",o+"0x0000000000000000000000000000000000000000000000000000000000000000".slice(2)+"0x01".slice(2)]})}W(!1)}catch(e){H(e instanceof Error?e.message:"Withdraw failed")}finally{F(!1)}},children:L?"Withdrawing...":"Confirm"})]})]})})]})})}function et(){var e,t;let{markets:a}=$(),{loading:o,error:i,loadingOutcome:d,loadBalanceForOutcome:c}=function(e){let{address:t,isConnected:a}=(0,s.F)(),n=(0,p.e)(),o=(0,l.i)(),[i,d]=(0,r.useState)([]),[c,u]=(0,r.useState)(!1),[m,f]=(0,r.useState)(null),[g,x]=(0,r.useState)(),y=e=>{let t=[{positionId:e.yesPositionId,conditionId:e.conditionId,questionId:"0x"+e.slug,outcomeIndex:0,outcomeLabel:"YES",balance:BigInt(0),balanceFormatted:"0.00",yieldingBalance:BigInt(0),yieldingBalanceFormatted:"0.00",idleBalance:BigInt(0),idleBalanceFormatted:"0.00",resolved:e.status===N.Resolved,winningOutcome:void 0,isWinning:void 0},{positionId:e.noPositionId,conditionId:e.conditionId,questionId:"0x"+e.slug,outcomeIndex:1,outcomeLabel:"NO",balance:BigInt(0),balanceFormatted:"0.00",yieldingBalance:BigInt(0),yieldingBalanceFormatted:"0.00",idleBalance:BigInt(0),idleBalanceFormatted:"0.00",resolved:e.status===N.Resolved,winningOutcome:void 0,isWinning:void 0}];return{conditionId:e.conditionId,questionId:"0x"+e.slug,question:e.question,outcomeSlotCount:2,resolved:e.status===N.Resolved,winningOutcome:0,oracle:"0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266",positions:t,category:e.category,status:e.status,createdAt:new Date(e.createdAt),expirationDate:new Date(e.endTime?1e3*e.endTime:Date.now()+31536e6)}};async function v(e){return e?E.getSafesForOwner(e,o):[]}async function w(e){try{let a=(0,h.RZ)(o||137,"CONDITIONAL_TOKENS");if(!n||!e)return{balance:0n};let r=[t||"",...await v(t)].filter(Boolean),s={balance:0n};for(let t of r)try{let r=await n.readContract({address:a,abi:[{name:"balanceOf",type:"function",stateMutability:"view",inputs:[{name:"account",type:"address"},{name:"id",type:"uint256"}],outputs:[{name:"",type:"uint256"}]}],functionName:"balanceOf",args:[t,BigInt(e)]});b.balance("BalanceOf query",{holder:t,positionId:e,balance:r.toString()}),r>s.balance&&(s={holder:t,balance:r})}catch(e){}return b.balance("BestBalance result",{positionId:e,bestHolder:s.holder,balance:s.balance.toString()}),s}catch(e){return{balance:0n}}}let S=async e=>{var n;a&&t&&!1};return(0,r.useEffect)(()=>{!0;d([]),u(!1)},[null]),{totalPositions:i.reduce((e,t)=>e+t.positions.length,0),totalValue:i.reduce((e,t)=>e+t.positions.reduce((e,t)=>e+parseFloat(t.balanceFormatted)+parseFloat(t.yieldingBalanceFormatted),0),0).toFixed(2),conditions:i,loading:c,loadingOutcome:m,error:g,loadBalanceForOutcome:S}}(),u=2*a.length,m=(0,p.e)(),[f,g]=r.useState(0),[x,y]=r.useState({}),[v,w]=r.useState(!1);r.useEffect(()=>{let e=!1,t=async()=>{try{let t=a.map(e=>(e.ymVaultAddress||"").toLowerCase()).filter(e=>e&&!/^0x0{40}$/.test(e)).map(e=>m.readContract({address:e,abi:T,functionName:"totalMatched"}).then(e=>Number(e)/1e6).catch(()=>0)),n=await Promise.all(t);e||g(n.reduce((e,t)=>e+t,0))}catch(t){e||g(0)}};t();let n=setInterval(t,6e4);return()=>{e=!0,clearInterval(n)}},[a,m]),r.useEffect(()=>{let e=!1;return(async()=>{try{w(!1),console.log("[StatusLoader] Starting to load market statuses...");let t=[];for(let e of a)if(e.conditionId)try{let a=await m.readContract({address:"0x4D97DCd97eC945f40cF65F87097ACe5EA0476045",abi:O,functionName:"payoutDenominator",args:[e.conditionId]}),n=void 0!==a&&a>0n;t.push([e.conditionId,n]),console.log("[StatusLoader] Market ".concat(e.slug,": ").concat(n?"Resolved":"Open"," (denominator: ").concat(a,")"))}catch(a){console.warn("[StatusLoader] Failed to check resolution for ".concat(e.slug,":"),a),t.push([e.conditionId,!1])}if(!e){let e={};for(let[a,n]of t)e[a]=n;y(e),w(!0),console.log("[StatusLoader] All market statuses loaded:",e)}}catch(t){console.error("[StatusLoader] Error loading market statuses:",t),e||w(!0)}})(),()=>{e=!0}},[a,m]);let{isConnected:S}=(0,s.F)(),[C,k]=(0,r.useState)("all"),[j]=(0,r.useState)("desc"),[I,A]=r.useState({});r.useEffect(()=>{let e=!1;return(async()=>{try{let t=await fetch("https://api.allorigins.win/raw?url=".concat(encodeURIComponent("https://gamma-api.polymarket.com/markets?limit=2000&active=true")),{cache:"no-store"}),a=await t.json(),n={};if(Array.isArray(a))for(let e of a)(null==e?void 0:e.conditionId)&&(n[e.conditionId.toLowerCase()]=Number(e.volumeNum||0));e||A(n)}catch(e){}})(),()=>{e=!0}},[]);let[_,D]=(0,r.useState)(!1),[B,P]=(0,r.useState)("YES"),[L,Y]=(0,r.useState)(null),[F,M]=(0,r.useState)(!1),[U,R]=(0,r.useState)(!1),[W,K]=(0,r.useState)(!1),q=async(e,t)=>{if(!S){R(!0),K(!1),setTimeout(()=>K(!0),2500),setTimeout(()=>R(!1),3e3);return}P(e),Y(t),D(!0),c&&await c(e)},V=async()=>{M(!0);try{return}catch(e){console.error("Trade failed:",e)}finally{M(!1)}},X=r.useMemo(()=>a.map(e=>({conditionId:e.conditionId,questionId:"0x"+e.slug,question:e.question,outcomeSlotCount:2,resolved:e.status===N.Resolved,winningOutcome:0,oracle:"0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266",positions:[{positionId:e.yesPositionId,conditionId:e.conditionId,questionId:"0x"+e.slug,outcomeIndex:0,outcomeLabel:"YES",balance:BigInt(0),balanceFormatted:"0.00",yieldingBalance:BigInt(0),yieldingBalanceFormatted:"0.00",idleBalance:BigInt(0),idleBalanceFormatted:"0.00",resolved:e.status===N.Resolved,winningOutcome:void 0,isWinning:void 0},{positionId:e.noPositionId,conditionId:e.conditionId,questionId:"0x"+e.slug,outcomeIndex:1,outcomeLabel:"NO",balance:BigInt(0),balanceFormatted:"0.00",yieldingBalance:BigInt(0),yieldingBalanceFormatted:"0.00",idleBalance:BigInt(0),idleBalanceFormatted:"0.00",resolved:e.status===N.Resolved,winningOutcome:void 0,isWinning:void 0}],category:e.category,status:e.status,createdAt:new Date(e.createdAt),expirationDate:new Date(e.endTime?1e3*e.endTime:Date.now()+31536e6)})),[a]),z=r.useMemo(()=>{let e=X;return"all"!==C&&(e="open"===C||"resolved"===C?X.filter(e=>{let t=x[e.conditionId];return!0===t?"resolved"===C:!1===t?"open"===C:e.status===C}):X.filter(e=>e.category===C)),[...e].sort((e,t)=>{var a,n;let r=null!=(a=I[e.conditionId.toLowerCase()])?a:0,s=null!=(n=I[t.conditionId.toLowerCase()])?n:0;return"desc"===j?s-r:r-s})},[X,C,j,x,I]),[H,J]=r.useState("—");return(r.useEffect(()=>{let e=!1,t=async()=>{try{let t="https://api.allorigins.win/raw?url=".concat(encodeURIComponent("https://yields.llama.fi/pools?chain=polygon&project=aave-v3&symbol=USDC")),a=await fetch(t,{cache:"no-store"});if(!a.ok)throw Error("AAVE API error: ".concat(a.status));let n=await a.json();if(!e){let e=(Array.isArray(null==n?void 0:n.data)?n.data:[]).find(e=>"USDC"===String(e.symbol).toUpperCase()&&"polygon"===String(e.chain).toLowerCase()),t="number"==typeof(null==e?void 0:e.apy)?e.apy:null;J(null!==t?"".concat(t.toFixed(2),"%"):"—")}}catch(t){e||J("—")}};t();let a=setInterval(t,3e5);return()=>{e=!0,clearInterval(a)}},[]),o)?(0,n.jsx)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 p-8",children:(0,n.jsxs)("div",{className:"flex items-center justify-center",children:[(0,n.jsx)("div",{className:"w-8 h-8 border-2 border-blue-500 border-t-transparent rounded-full animate-spin"}),(0,n.jsx)("span",{className:"ml-3 text-gray-600",children:"Loading your balances..."})]})}):i?(0,n.jsx)("div",{className:"bg-white rounded-xl shadow-lg border border-red-200 p-8",children:(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("div",{className:"text-red-600 mb-2",children:"⚠️ Error loading balances"}),(0,n.jsx)("div",{className:"text-sm text-gray-600",children:i})]})}):(0,n.jsxs)("div",{className:"space-y-6",children:[(0,n.jsxs)("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 dark:from-[#2e3b5e] dark:to-[#0f4c75] text-white rounded-xl p-6",children:[(0,n.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,n.jsx)("h2",{className:"text-xl font-bold",children:"Yield Market Status"}),(0,n.jsx)("div",{className:"text-sm bg-white/10 px-3 py-1 rounded-full",children:"Always 1:1 Token Ratio"})]}),(0,n.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:[(0,n.jsxs)("div",{className:"bg-white/10 rounded-lg p-4 text-center",children:[(0,n.jsx)("div",{className:"text-sm opacity-90",children:"Total Markets"}),(0,n.jsx)("div",{className:"text-2xl font-bold",children:a.length})]}),(0,n.jsxs)("div",{className:"bg-white/10 rounded-lg p-4 text-center",children:[(0,n.jsx)("div",{className:"text-sm opacity-90",children:"Total Positions"}),(0,n.jsx)("div",{className:"text-2xl font-bold",children:u})]}),(0,n.jsxs)("div",{className:"bg-white/10 rounded-lg p-4 text-center",children:[(0,n.jsx)("div",{className:"text-sm opacity-90",children:"Total Value"}),(0,n.jsxs)("div",{className:"text-2xl font-bold",children:[f>=1e6?(f/1e6).toFixed(1)+"M":f>=1e3?(f/1e3).toFixed(1)+"K":Math.floor(f).toString()," USDC"]})]}),(0,n.jsxs)("div",{className:"bg-white/10 rounded-lg p-4 text-center",children:[(0,n.jsx)("div",{className:"text-sm opacity-90",children:"Current APY (AAVE)"}),(0,n.jsx)("div",{className:"text-2xl font-bold",children:H})]})]})]}),(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsxs)("div",{className:"flex justify-between items-center",children:[(0,n.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Available Markets"}),(0,n.jsxs)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[z.length," of ",X.length," markets"]})]}),(0,n.jsx)("div",{className:"bg-white dark:bg-[#16213e] rounded-lg border border-gray-200 dark:border-[#34495e] p-4",children:(0,n.jsxs)("div",{className:"flex flex-wrap gap-4 items-center",children:[(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)("span",{className:"text-sm font-medium text-gray-700 dark:text-[#e0e0e0]",children:"Filter:"}),(0,n.jsxs)("select",{value:C,onChange:e=>k(e.target.value),className:"text-sm border border-gray-300 dark:border-[#34495e] dark:bg-[#34495e] dark:text-[#e0e0e0] rounded px-2 py-1 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,n.jsx)("option",{value:"all",children:"All Markets"}),(0,n.jsx)("option",{value:"open",children:"Open Only"}),(0,n.jsx)("option",{value:"resolved",children:"Resolved Only"})]})]}),(0,n.jsxs)("div",{className:"flex items-center gap-2 ml-auto",children:[(0,n.jsx)("span",{className:"text-sm text-gray-500 dark:text-[#a0a0a0]",children:"Quick:"}),["all","open","resolved"].map(e=>(0,n.jsx)("button",{onClick:()=>k(e),className:"px-2 py-1 text-xs rounded-full transition-colors ".concat(C===e?"bg-blue-100 dark:bg-[#0f4c75] text-blue-800 dark:text-white font-medium":"bg-gray-100 dark:bg-[#34495e] text-gray-600 dark:text-[#e0e0e0] hover:bg-gray-200 dark:hover:bg-[#2e3b5e]"),children:"all"===e?"All":e.charAt(0).toUpperCase()+e.slice(1)},e))]})]})}),(0,n.jsx)("div",{className:"space-y-3",children:v?z.map(e=>(0,n.jsx)(ee,{condition:e,onTradeClick:q,preloadedResolved:x[e.conditionId],loadingOutcome:d},e.conditionId)):(0,n.jsx)("div",{className:"space-y-3",children:a.map(e=>(0,n.jsx)("div",{className:"bg-white dark:bg-[#2e3b5e] rounded-xl border-2 dark:border-[#34495e] p-4",children:(0,n.jsxs)("div",{className:"animate-pulse",children:[(0,n.jsxs)("div",{className:"flex justify-between items-center mb-3",children:[(0,n.jsx)("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),(0,n.jsx)("div",{className:"h-6 bg-gray-200 rounded w-16"})]}),(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)("div",{className:"h-3 bg-gray-200 rounded w-1/2"}),(0,n.jsx)("div",{className:"h-3 bg-gray-200 rounded w-1/3"})]})]})},e.slug))})}),0===z.length&&X.length>0&&(0,n.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,n.jsx)("div",{className:"mb-2",children:"No markets match your current filters"}),(0,n.jsx)("button",{onClick:()=>k("all"),className:"text-blue-600 hover:text-blue-800 text-sm underline",children:"Clear filters"})]})]}),L&&(0,n.jsx)(Z,{isOpen:_,onClose:()=>D(!1),marketQuestion:L.question,selectedOutcome:B,currentOdds:"YES"===B?1.85:2.15,onConfirmTrade:V,isTransacting:F,conditionId:L.conditionId,positionId:"YES"===B?null==(e=L.positions.find(e=>"YES"===e.outcomeLabel))?void 0:e.positionId:null==(t=L.positions.find(e=>"NO"===e.outcomeLabel))?void 0:t.positionId}),U&&(0,n.jsx)("div",{className:"fixed top-4 right-4 z-50 transition-all duration-500 ".concat(W?"opacity-0 translate-y-2":"opacity-100 translate-y-0"),children:(0,n.jsx)("div",{className:"bg-orange-100 border border-orange-200 text-orange-800 px-4 py-3 rounded-lg shadow-lg max-w-sm",children:(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)("div",{className:"w-5 h-5 text-orange-600",children:(0,n.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.732-.833-2.5 0L4.232 15.5c-.77.833.192 2.5 1.732 2.5z"})})}),(0,n.jsx)("div",{className:"font-medium",children:"Please connect your wallet to trade"})]})})})]})}function ea(){let{}=$();return(0,n.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-[#1a1a2e] dark:to-[#16213e]",children:[(0,n.jsx)("header",{className:"bg-white/80 dark:bg-[#16213e]/90 backdrop-blur-sm border-b border-gray-200 dark:border-[#34495e] sticky top-0 z-30",children:(0,n.jsx)("div",{className:"container mx-auto px-4 py-4 max-w-6xl",children:(0,n.jsxs)("div",{className:"flex justify-between items-center",children:[(0,n.jsx)("div",{children:(0,n.jsx)("h1",{className:"text-xl font-bold text-gray-900 dark:text-[#e0e0e0]",children:"Yield Market"})}),(0,n.jsx)(v,{})]})})}),(0,n.jsxs)("div",{className:"container mx-auto px-4 py-8 max-w-6xl",children:[(0,n.jsxs)("div",{className:"text-center mb-12",children:[(0,n.jsx)("h2",{className:"text-4xl font-bold text-gray-900 dark:text-[#e0e0e0] mb-4",children:"Earn While You Wait"}),(0,n.jsxs)("p",{className:"text-lg text-gray-600 dark:text-[#a0a0a0] max-w-2xl mx-auto",children:["Deposit YES/NO outcome tokens to receive yield-bearing versions and earn while you wait for market resolution. All tokens maintain a ",(0,n.jsx)("span",{className:"font-semibold text-blue-600 dark:text-[#6495ed]",children:"1:1 ratio"})," for transparent value tracking."]})]}),(0,n.jsx)("div",{className:"space-y-8",children:(0,n.jsx)(et,{})})]})]})}function en(){return(0,n.jsx)(Q,{children:(0,n.jsx)(ea,{})})}},30537:(e,t,a)=>{Promise.resolve().then(a.bind(a,11639))},46830:(e,t,a)=>{"use strict";a.d(t,{I_:()=>d,Lg:()=>s,RZ:()=>l,WC:()=>r,hL:()=>o});var n=a(95704);let r={SUPPORTED_CHAINS:[137,80002,1337],RPC_URLS:{137:n.env.NEXT_PUBLIC_POLYGON_RPC_URL||"https://polygon-rpc.com",80002:n.env.NEXT_PUBLIC_AMOY_RPC_URL||"https://rpc-amoy.polygon.technology",1337:n.env.NEXT_PUBLIC_RPC_URL||"http://127.0.0.1:8545"},CHAIN_NAMES:{137:"Polygon Mainnet",80002:"Polygon Amoy",1337:"Localhost"},DEFAULT_CHAIN_ID:parseInt(n.env.NEXT_PUBLIC_CHAIN_ID||"1337")};function s(e){return r.RPC_URLS[e]||r.RPC_URLS[1337]}function o(e){return r.CHAIN_NAMES[e]||"Unknown"}let i={137:{USDC:n.env.NEXT_PUBLIC_USDC_ADDRESS||"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174",CONDITIONAL_TOKENS:n.env.NEXT_PUBLIC_CONDITIONAL_TOKENS_ADDRESS||"0x4D97DCd97eC945f40cF65F87097ACe5EA0476045",AAVE_STRATEGY:n.env.NEXT_PUBLIC_AAVE_STRATEGY_ADDRESS||"0x794a61358D6845594F94dc1DB02A252b5b4814aD"},80002:{USDC:n.env.NEXT_PUBLIC_AMOY_USDC_ADDRESS||"0x41E94Eb019C0762f9BfF9fE4b2660c2B6Dc3D75",CONDITIONAL_TOKENS:n.env.NEXT_PUBLIC_AMOY_CONDITIONAL_TOKENS_ADDRESS||"0x4D97DCd97eC945f40cF65F87097ACe5EA0476045",AAVE_STRATEGY:n.env.NEXT_PUBLIC_AMOY_AAVE_STRATEGY_ADDRESS||"0x794a61358D6845594F94dc1DB02A252b5b4814aD"},1337:{USDC:n.env.NEXT_PUBLIC_LOCAL_USDC_ADDRESS||"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174",CONDITIONAL_TOKENS:n.env.NEXT_PUBLIC_LOCAL_CONDITIONAL_TOKENS_ADDRESS||"0x4D97DCd97eC945f40cF65F87097ACe5EA0476045",AAVE_STRATEGY:n.env.NEXT_PUBLIC_LOCAL_AAVE_STRATEGY_ADDRESS||"0x794a61358D6845594F94dc1DB02A252b5b4814aD"},DEFAULT_ORACLE:n.env.NEXT_PUBLIC_DEFAULT_ORACLE_ADDRESS||"0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266",ZERO_ADDRESS:"0x0000000000000000000000000000000000000000",ZERO_HASH:"0x0000000000000000000000000000000000000000000000000000000000000000"};function l(e,t){let a=i[e];return a&&"object"==typeof a&&t in a?a[t]:i[137][t]||i.ZERO_ADDRESS}let d={MOCK_ENABLED:"true"===n.env.NEXT_PUBLIC_PM_MOCK,MOCK_BROWSER_EVENT:"true"===n.env.NEXT_PUBLIC_PM_MOCK_BROWSER_EVENT,TICK_SIZE:n.env.NEXT_PUBLIC_PM_TICK_SIZE||"0.01",NEG_RISK:"true"===n.env.NEXT_PUBLIC_PM_NEG_RISK,TOKEN_ID_YES:n.env.NEXT_PUBLIC_PM_TOKEN_ID_YES,TOKEN_ID_NO:n.env.NEXT_PUBLIC_PM_TOKEN_ID_NO,EXCHANGE_ADDRESS:n.env.NEXT_PUBLIC_PM_EXCHANGE_ADDRESS,TIMEOUT_MS:parseInt(n.env.NEXT_PUBLIC_PM_TIMEOUT_MS||"15000"),WAIT_TIMEOUT_MS:parseInt(n.env.NEXT_PUBLIC_PM_WAIT_TIMEOUT_MS||"15000"),MOCK_FILL_CONTRACT:n.env.NEXT_PUBLIC_PM_MOCK_FILL_CONTRACT,MOCK_FILL_EVENT_TOPIC:n.env.NEXT_PUBLIC_PM_MOCK_FILL_EVENT_TOPIC};n.env.NEXT_PUBLIC_APP_NAME,n.env.NEXT_PUBLIC_APP_VERSION},47790:()=>{},66443:()=>{},71281:()=>{}},e=>{e.O(0,[268,964,497,441,255,358],()=>e(e.s=30537)),_N_E=e.O()}]);